(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{212:function(e,t,r){"use strict";r.r(t);r(16),r(12),r(8);var n=r(0),i=r.n(n),o=r(210),s=r(209);r(213);var a=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props.film;if(!e.title)return null;var t=e.title,r=e.year,n=e.director,o=e.reviewRating,s=e.reviewComment,a=e._getGenres().join(", ");return i.a.createElement("div",{className:"film"},i.a.createElement("span",{className:"film__title"},t," ",o),i.a.createElement("div",null,a," | ",r," | ",n),i.a.createElement("div",null,s))},n}(i.a.Component);var c=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props.films;return i.a.createElement("div",null,e.map((function(e,t){return i.a.createElement(a,{film:e,key:t,isFirstRow:0===t})})))},n}(i.a.Component),l=(r(21),function(){function e(e){this.title=e[0],this.year=e[1]||"",this.director=e[14]||"",this.reviewRating=e[16]||"",this.reviewComment=e[17]||"",this.genres={doc:!!e[2],romance:!!e[3],sciFi:!!e[4],comedy:!!e[5],drama:!!e[6],horror:!!e[7],thriller:!!e[8],action:!!e[9],fantasy:!!e[10],animation:!!e[11],dtw:!!e[12]}}return e.prototype._getGenres=function(){var e=this;return Object.keys(this.genres).filter((function(t){return!!e.genres[t]}))},e}());function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).state={films:null},r._requestFilms=r._requestFilms.bind(p(r)),r._initGapi=r._initGapi.bind(p(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentDidMount=function(){var e=this;setTimeout((function(){gapi.load("client",e._initGapi)}),1e3)},a._initGapi=function(){gapi.client.init({apiKey:"AIzaSyDU7ArjrrMpoVsFVkXha32sPUWff7yqYBY",clientId:"759156115005-rj8aq7fuo23b867u1ddnjsmso32gls40.apps.googleusercontent.com",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],scope:"https://www.googleapis.com/auth/spreadsheets.readonly"}).then(this._requestFilms).catch((function(e){console.log("error initing gapi",e)}))},a._requestFilms=function(){var e=this;console.log("Requesting films..."),gapi.client.sheets.spreadsheets.values.get({spreadsheetId:"1eH17SHg_JACgmAe3VJ3fOATLcTC0QwLkK42iyjp1IJE",range:"Sheet1!B:S"}).then((function(t){for(var r=t.result,n=[],i=2;i<r.values.length;i++)n.push(new l(r.values[i]));e.setState({films:n})})).catch((function(e){console.error("error making spreadsheet request:",e)}))},a.render=function(){return i.a.createElement(o.a,null,i.a.createElement(s.a,{title:"Home"}),!this.state.films&&i.a.createElement("img",{src:"https://i.gifer.com/ZJtI.gif",alt:"potatoes loading"}),!!this.state.films&&i.a.createElement(c,{films:this.state.films}))},n}(i.a.Component);t.default=u}}]);
//# sourceMappingURL=component---src-pages-index-js-cd66b94b3faf9262a525.js.map